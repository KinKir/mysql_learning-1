# MySQL数据库的体系结构
## 数据库和数据库实例
|数据库|数据库实例|
|:---|:---|
|物理操作系统文件或者其他形式文件类型的集合|1. 由数据库后台进程/线程以及一个共享内存区组成|
|                                    |  2. 共享内存可以被后台进程/线程所共享 |
|                                    |3. 数据库实例才是真正操作数据库文件的|

### MySQL数据库中实例和数据库是一对一的关系
1. 单进程 多线程
2. 插件式存储引擎
3. 存储引擎的对象是表

### MySQL逻辑存储结构

instance -> (database  -> schema) -> table -> view


### MySQL物理存储文件
1. 数据文件路径在 datadir里
2. 一个数据库对应一个文件夹
  
  information_schema 这个库在目录里是不存在的，内存数据结构的映射，没有持久化。

3. 每张表对应一组文件

### MySQL主要文件
1. 数据库配置文件
2. 表结构定义文件
3. 错误文件
4. 慢查询日志
5. 通用日志

#### 1. 数据库配置文件
```
[mysqld-5.6]  -------（特定版本中的参数）出现类似标示，说明该组下的参数只在5.6版本里生效，其他版本均不读取

[mysqld-5.7]  --------同上 （注意 跟 [mysql1 mysql2 分组不一样（mysqld_multi），后边带有 - 符号]）

```

#### 2. 错误日志
参数：log_error  默认为：机器名.err

```
[mysqld]
log_error = xxx/mysql_error.log

```
还可将错误日志配置到系统日志文件(一般不用，查看日志不太方便，也不太好收集)

```
[mysqld_safe]
syslog
syslog_tag = stock #mysqld_stock

```

#### 3. 数据库表结构定义文件

```
-rw-r-----  1 ShaoGaoJie  staff      384 12 31 11:59 user.MYD
-rw-r-----  1 ShaoGaoJie  staff     4096 12 31 12:00 user.MYI
-rw-r-----  1 ShaoGaoJie  staff    10816 12 31 09:40 user.frm   ------表结构定义文件

```
问题：如果数据库实例启动了，如何查看表结构?如果没启动，又怎么查看？
     show create table xxx;
     mysqlfrm工具可以不启动查看表结构
     
##### 安装mysqlfrm工具集

https://dev.mysql.com/downloads/utilities/
