# InnoDB存储引擎特性

## Doublewrite

**保证数据写入的可靠性**

**partial write**  
1. 16K的页只写入了4k 6k 8k 12k的情况  
2. 不可以通过redo log进行回复  
   1. redo log恢复的前提是 redo log 里的这个页必须是干净的。怎么保证？Page Header 和 Page Trailer。Page Header 更新了 而Trailer 没更新，那就不是一个完整的页 就是corrupt页。是不能通过redo log 来恢复的。

![](/assets/doublewrite.png)

```
(root@127.0.0.1)[performance_schema]> show variables like '%double%';
+----------------------------------+----------------+
| Variable_name                    | Value          |
+----------------------------------+----------------+
| innodb_doublewrite               | ON             |
| innodb_parallel_doublewrite_path | xb_doublewrite |
+----------------------------------+----------------+
2 rows in set (0.28 sec)
```

## Insert/Change Buffer

* 提升辅助索引的插入性能

## Adaptive Hash Index

## Flush neighbor



