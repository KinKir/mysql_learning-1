# MySQL 范式设计
## 概念
范式是数据库设计的一种规范，由第一范式、第二范式、第三范式。
 

### 第一范式
1NF概念：每张表一定要一个主键（primary key），那么就符合第一范式

1. 没有重复的组
2. 全部的键属性都定义了
3. 全部的属性都依赖于主键


### 第二范式
2NF概念：解决部分依赖，就是第二范式

1. 是第一范式
2. 不包含部分依赖（属性只依赖于主键的一部分）

### 第三范式
3NF概念；解决了传递依赖，就是第三范式

1. 是第二范式 2NF
2. 不包含传递依赖（非主属性通过另一个非键值依赖于主键）
## 目的
1. 消除数据冗余（因此可以使用更少的空间）
2. 使对数据的更改更容易，而且能避免这样做的时候出现异常
3. 更容易执行一致性的约束
4. 产生一个与数据表示的情况更相似的更容易理解的结构

## 优点
1. 更新操作效率更高
2. 没有或者更少重复的数据
3. 表相对比较小，便于缓存

## 缺点
查询数据需要多次关联


## 主键
能够唯一表示数据表中的每个记录的字段或者字段的组合叫主键。
### 主键的选择
1. 自增 auto_increament
2. 唯一编号
3. Max + 1
4. UUID / GUID （Global unique identifier）

```
mysql> SELECT UUID();
+--------------------------------------+
| UUID()                               |
+--------------------------------------+
| c356b3c0-f164-11e7-9a0e-f3db6f9cbfe9 |
+--------------------------------------+
1 row in set (0.01 sec)

mysql> select length(uuid());
+----------------+
| length(uuid()) |
+----------------+
|             36 |
+----------------+
1 row in set (0.01 sec)


//8.0 里面 新增了 uuid_to_bin() 方法
mysql> select version();
ERROR 2006 (HY000): MySQL server has gone away
No connection. Trying to reconnect...
Connection id:    15
Current database: test

+--------------+
| version()    |
+--------------+
| 8.0.3-rc-log |
+--------------+
1 row in set (0.21 sec)

mysql> select hex(uuid_to_bin(uuid()));
+----------------------------------+
| hex(uuid_to_bin(uuid()))         |
+----------------------------------+
| B1BF63FEF16511E79B94F62BF13949C2 |
+----------------------------------+
1 row in set (0.01 sec)

mysql> select length(hex(uuid_to_bin(uuid())));
+----------------------------------+
| length(hex(uuid_to_bin(uuid()))) |
+----------------------------------+
|                               32 |
+----------------------------------+


```
5. 应用程序主键生成器



